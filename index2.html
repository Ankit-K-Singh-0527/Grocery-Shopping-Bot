<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grocery List Collaboration with Budget and Ably</title>
    <link rel="stylesheet" href="https://cdn.tailwindcss.com" />
  </head>

  <body class="bg-gradient-to-br from-gray-800 to-gray-900 min-h-screen flex items-center justify-center">
    <div class="container mx-auto p-4">
      <!-- Main App Container -->
      <div class="bg-gradient-to-r from-blue-700 to-blue-500 shadow-2xl rounded-lg p-6 flex flex-col space-y-6">
        <!-- User Info Section -->
        <div>
          <h1 class="text-3xl font-bold mb-4 text-white">Grocery List Collaboration</h1>
          <p class="text-gray-300">
            Your Unique Code:
            <span id="userCode" class="font-bold text-yellow-300"></span>
          </p>
        </div>

        <!-- Budget Section -->
        <div>
          <p class="text-gray-300">
            <strong>Budget:</strong>
            <span id="budgetDisplay" class="text-yellow-300">Not Set</span>
          </p>
          <p class="text-gray-300">
            <strong>Total Price:</strong>
            <span id="totalPriceDisplay" class="text-yellow-300">$0</span>
          </p>
        </div>

        <!-- Modal for Budget -->
        <div id="budgetModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <div class="bg-gradient-to-r from-green-700 to-green-500 p-6 rounded-lg shadow-2xl">
            <h2 class="text-xl font-bold mb-4 text-white">Set Your Budget</h2>
            <input
              id="budgetInput"
              type="number"
              placeholder="Enter your budget..."
              class="border border-gray-300 p-2 rounded-md w-full mb-4"
            />
            <div class="flex space-x-4">
              <button id="saveBudgetButton" class="bg-green-500 text-white px-4 py-2 rounded-md">Save</button>
              <button id="closeBudgetButton" class="bg-red-500 text-white px-4 py-2 rounded-md">Close</button>
            </div>
          </div>
        </div>

        <!-- Connect with Others -->
        <div class="flex space-x-4">
          <input
            id="connectInput"
            type="text"
            placeholder="Enter unique code to connect..."
            class="border border-gray-300 p-2 rounded-md w-full"
          />
          <button id="connectButton" class="bg-green-500 text-white px-4 py-2 rounded-md">Connect</button>
        </div>
        <p id="connectionStatus" class="text-gray-300"></p>

        <!-- Grocery List Section -->
        <div class="flex space-x-6">
          <!-- Grocery List -->
          <div class="flex-grow">
            <h2 class="text-xl font-bold mb-4 text-white">Grocery List</h2>
            <div class="flex mb-4">
              <input
                id="itemInput"
                type="text"
                placeholder="Add an item..."
                class="border border-gray-300 p-2 rounded-md w-full"
              />
              <button id="addItemButton" class="bg-blue-500 text-white px-4 py-2 rounded-md ml-2">Add</button>
            </div>
            <ul id="groceryList" class="list-disc pl-6 text-gray-300">
              <!-- List items will be dynamically added here -->
            </ul>
          </div>

          <!-- Updated List Section -->
          <div class="w-1/3">
            <h2 class="text-xl font-bold mb-4 text-white">Updated List</h2>
            <ul id="updatedList" class="list-disc pl-6 text-gray-300">
              <!-- Updated list from other users will be displayed here -->
            </ul>
            <div id="mergeDiscardButtons" class="hidden space-x-4 mt-4">
              <button id="mergeListButton" class="bg-green-500 text-white px-4 py-2 rounded-md">Merge</button>
              <button id="discardListButton" class="bg-red-500 text-white px-4 py-2 rounded-md">Discard</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/ably/browser/static/ably.min.js"></script>
    <script src="script1.js"></script>
  </body>
</html>